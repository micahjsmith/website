
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://www.micahsmith.com/theme/stylesheet/style.min.css">

    <link id="dark-theme-style" rel="stylesheet" type="text/css"
          media="(prefers-color-scheme: dark)"
    href="https://www.micahsmith.com/theme/stylesheet/dark-theme.min.css">

    <link id="pygments-dark-theme" rel="stylesheet" type="text/css"
              media="(prefers-color-scheme: dark)"
          href="https://www.micahsmith.com/theme/pygments/monokai.min.css">
    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
              media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)"
          href="https://www.micahsmith.com/theme/pygments/github.min.css">


  <link rel="stylesheet" type="text/css" href="https://www.micahsmith.com/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="https://www.micahsmith.com/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="https://www.micahsmith.com/theme/font-awesome/css/solid.css">

    <link href="https://www.micahsmith.com/static/custom.css" rel="stylesheet">




<!-- Google Analytics -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-57970396-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->

<meta name="author" content="Micah Smith" />
<meta name="description" content="Many venues for submitting research in computer science and other academic fields follow a double-blind review process, in which the authors should be anonymous to the reviewers. This can cause conflicts with ideas from open science or with the evaluation of software contributions as any linked GitHub repositories can contain …" />
<meta name="keywords" content="latex">


<meta property="og:site_name" content="Micah Smith"/>
<meta property="og:title" content="Anonymize GitHub repos for double-blind submission"/>
<meta property="og:description" content="Many venues for submitting research in computer science and other academic fields follow a double-blind review process, in which the authors should be anonymous to the reviewers. This can cause conflicts with ideas from open science or with the evaluation of software contributions as any linked GitHub repositories can contain …"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://www.micahsmith.com/blog/2019/10/anonymize-github-repos-double-blind"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2019-10-23 00:00:00-04:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="https://www.micahsmith.com/author/micah-smith.html">
<meta property="article:section" content="research"/>
<meta property="article:tag" content="latex"/>
<meta property="og:image" content="/images/micah.jpg">

  <title>Micah Smith &ndash; Anonymize GitHub repos for double-blind submission</title>

</head>
<body >
  <aside>
    <div>
      <a href="https://www.micahsmith.com">
        <img src="/images/micah.jpg" alt="Micah J. Smith" title="Micah J. Smith">
      </a>

      <h1>
        <a href="https://www.micahsmith.com">Micah J. Smith</a>
      </h1>



      <nav>
        <ul class="list">

          <li><a href="https://www.micahsmith.com/blog">blog</a></li>

              <li>
                <a target="_self"
                   href="https://www.micahsmith.com/research">
                  research
                </a>
              </li>
              <li>
                <a target="_self"
                   href="https://www.micahsmith.com/contact">
                  contact
                </a>
              </li>

        </ul>
      </nav>

      <ul class="social">
          <li>
            <a  class="sc-twitter" href="https://twitter.com/micahjsmith" target="_blank">
              <i class="fab fa-twitter"></i>
            </a>
          </li>
          <li>
            <a  class="sc-github" href="https://github.com/micahjsmith" target="_blank">
              <i class="fab fa-github"></i>
            </a>
          </li>
          <li>
            <a  class="sc-stack-overflow" href="https://stackoverflow.com/users/2514228/micah-smith" target="_blank">
              <i class="fab fa-stack-overflow"></i>
            </a>
          </li>
          <li>
            <a  class="sc-linkedin" href="https://www.linkedin.com/in/micahjsmith" target="_blank">
              <i class="fab fa-linkedin"></i>
            </a>
          </li>
          <li>
            <a  class="sc-key" href="https://keybase.io/micahjsmith" target="_blank">
              <i class="fa fa-key"></i>
            </a>
          </li>
      </ul>
    </div>

  </aside>
  <main>


<article class="single">
  <header>
      
    <h1 id="anonymize-github-repos-double-blind">Anonymize GitHub repos for double-blind submission</h1>
    <p>
      Posted on Wed 23 October 2019 in <a href="https://www.micahsmith.com/category/research.html">research</a>

    </p>
  </header>


  <div>
    <p>Many venues for submitting research in computer science and other academic fields follow a double-blind review process, in which the authors should be anonymous to the reviewers. This can cause conflicts with ideas from <em>open science</em> or with the evaluation of software contributions as any linked GitHub repositories can contain identifying information about the authors. In this post I'll describe how I set up my LaTeX projects to facilitate double blind submission.</p>
<h3>Example document</h3>
<p>Imagine that we have written the following highly-complex research paper in LaTeX:</p>
<div class="highlight"><pre><span></span><code><span class="k">\documentclass</span><span class="na">[sigconf,anonymous]</span><span class="nb">{</span>acmart<span class="nb">}</span>
<span class="k">\begin</span><span class="nb">{</span>document<span class="nb">}</span>
<span class="k">\author</span><span class="nb">{</span>Micah Smith<span class="nb">}</span>
<span class="k">\title</span><span class="nb">{</span>Title<span class="nb">}</span>
<span class="k">\maketitle</span>
Here is my code: <span class="k">\url</span><span class="nb">{</span>https://github.com/micahjsmith/code<span class="nb">}</span>.
<span class="k">\end</span><span class="nb">{</span>document<span class="nb">}</span>
</code></pre></div>

<p>We're using the popular <code>acmart</code> class file which is used in computer science conferences like CHI, SIGMOD, KDD, etc. This class has an <code>anonymous</code> option which serves to anonymize the author list anywhere it appears. But the repo I have linked still gives away identifying information: the organization name appears in the URL and if one clicks through, the name of the authors and institution appear prominently.</p>
<h3>Anonymizing the repo</h3>
<p>One approach to providing anonymous access to our important code is to manually remove identifying information from files, create an archive (e.g. <code>code.tar.gz</code>) and upload it as supplementary material.</p>
<p>This has several drawbacks:</p>
<ul>
<li>not all submission sites allow this form of upload</li>
<li>a tarball is not a friendly way to share code, as the reviewer attempts to browse code from their file system and may not have editors configured to display your file types with the correct syntax highlighting, etc.</li>
<li>you may forget to update the archive if you have updating your code and submission.</li>
</ul>
<p>A better approach is to use a service like <a href="https://anonymous.4open.science">Anonymous GitHub</a>, which proxies requests to your live GitHub repository and strips identifying information based on your custom configuration. To use Anonymous GitHub, paste the URL of a GitHub repository and list of terms to anonymize from every file; terms will be replaced with <code>XXX</code>.</p>
<p>In our case, we want to anonymize the terms <code>Micah Smith</code> and <code>MIT</code>. So we could start with the following term list:</p>
<div class="highlight"><pre><span></span><code><span class="err">Micah Smith</span>
<span class="err">MIT</span>
</code></pre></div>

<p>The problem with this is that the linked software has been released under the MIT License, so a reviewer viewing the README or LICENSE would see the license is called <code>XXX License</code> (because it has been anonymized) and conclude that the author is from MIT, breaking the anonymity. Other substring matches could cause issues in similar situations.</p>
<p>The solution is to take advantage of the (undocumented) full regex matching that Anonymous GitHub will perform. Each line can contain an <a href="https://docs.python.org/3/library/re.html#regular-expression-syntax">arbitrary Python regex</a>. Thus we can match <code>MIT</code> only when it is <em>not</em> followed by the characters <code>License</code> using a <em>negative lookahead</em>:</p>
<div class="highlight"><pre><span></span><code><span class="err">Micah Smith</span>
<span class="err">MIT(?! License)</span>
</code></pre></div>

<p>The result is an anonymized repo that can be shared with reviewers: <a href="https://anonymous.4open.science/r/ca687570-8de0-40db-b918-6c97fa9d7f7b/">https://anonymous.4open.science/r/ca687570-8de0-40db-b918-6c97fa9d7f7b/</a></p>
<h3>Referencing the repo</h3>
<p>We could just copy and paste the new link into our LaTeX document, but that's too easy, isn't it? A flexible approach is to store the original URL and the anonymized URL in variables and place the appropriate one into the text based on whether the version being compiled is anonymized or not.</p>
<div class="highlight"><pre><span></span><code><span class="k">\documentclass</span><span class="na">[sigconf,anonymous]</span><span class="nb">{</span>acmart<span class="nb">}</span>

<span class="k">\newcommand</span><span class="nb">{</span><span class="k">\repourl</span><span class="nb">}{</span>https://github.com/micahjsmith/code<span class="nb">}</span>

<span class="c">% can be placed in &#39;anonymize.tex&#39; and input to the main file</span>
<span class="k">\makeatletter</span>
  <span class="k">\if</span>@ACM@anonymous
    <span class="k">\renewcommand</span><span class="nb">{</span><span class="k">\repourl</span><span class="nb">}{</span>https://anonymous.4open.science/r/ca687570-8de0-40db-b918-6c97fa9d7f7b/<span class="nb">}</span>
  <span class="k">\fi</span>
<span class="k">\makeatother</span>

<span class="k">\begin</span><span class="nb">{</span>document<span class="nb">}</span>
<span class="k">\author</span><span class="nb">{</span>Micah Smith<span class="nb">}</span>
<span class="k">\title</span><span class="nb">{</span>Title<span class="nb">}</span>
<span class="k">\maketitle</span>
Here is my code: <span class="k">\url</span><span class="nb">{</span><span class="k">\repourl</span><span class="nb">}</span>.
<span class="k">\end</span><span class="nb">{</span>document<span class="nb">}</span>
</code></pre></div>

<p>In this case, I searched the <code>acmart.cls</code> class file for the <code>anonymous</code> flag finding the command <code>\if@ACM@anonymous</code>. You can freely use this command as a switch within your document if you <a href="https://tex.stackexchange.com/a/8353">jump through the usual \makeatletter/\makeatother hoops</a>. For a different document format, different logic would be needed. For example, <code>IEEEtran.cls</code> defines the <code>\ifCLASSOPTIONpeerreview</code> conditional, but fewer IEEE conferences use double-blind review.</p>
<p>When (when!) your paper is accepted, you can simply remove the <code>anonymous</code> flag from your document class declaration, and the original link will replace the anonymized link without needing to look through the document.</p>
<h3>Conclusion</h3>
<p>Using Anonymous GitHub and some LaTeX tricks, our paper appears as normal when the <code>anonymous</code> flag is not set. But when the <code>anonymous</code> flag is set on the document class, our readers can click through to an anonymized rendering of our repository.</p>
<p>What approach have you used to anonymizing your submissions?</p><script src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="https://www.micahsmith.com/tag/latex.html">latex</a>
    </p>
  </div>





<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'micahsmith';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
    Please enable JavaScript to view comments.
</noscript>
<!-- End Disqus -->
</article>

    <footer>
<p>&copy; 2021 Micah Smith</p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
  <span class="footer-separator">|</span>
  Switch to the <a href="javascript:void(0)" onclick="theme.switch(`dark`)">dark</a> | <a href="javascript:void(0)" onclick="theme.switch(`light`)">light</a> | <a href="javascript:void(0)" onclick="theme.switch(`browser`)">browser</a> theme
  <script id="dark-theme-script"
          src="https://www.micahsmith.com/theme/dark-theme/dark-theme.min.js"
          data-enable-auto-detect-theme="True"
          data-default-theme="light"
          type="text/javascript">
  </script>
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Micah Smith ",
  "url" : "https://www.micahsmith.com",
  "image": "/images/micah.jpg",
  "description": ""
}
</script>


</body>
</html>